#!/bin/bash

# 以下を改変
# https://github.com/koara-local/dotfiles/edit/master/bin/get_os_info

# Get OS bit
# 32bit : i686
# 64bit : x86_64
get_os_bit() {
    echo $(uname -m);
}

# Get OS type name
get_os_type() {
    if   [ -e /etc/debian_version ] ||
         [ -e /etc/debian_release ]; then
        # Check Ubuntu or Debian
        if [ -e /etc/lsb-release ]; then
            # Ubuntu
            type="ubuntu"
        else
            # Debian
            type="debian"
        fi
    elif [ -e /etc/fedora-release ]; then
        # Fedra
        type="fedora"
    elif [ -e /etc/redhat-release ]; then
        if [ -e /etc/oracle-release ]; then
            # Oracle Linux
            type="oracle"
        else
            # Red Hat Enterprise Linux
            type="redhat"
        fi
    elif [ -e /etc/arch-release ]; then
        # Arch Linux
        type="arch"
    elif [ -e /etc/turbolinux-release ]; then
        # Turbolinux
        type="turbol"
    elif [ -e /etc/SuSE-release ]; then
        # SuSE Linux
        type="suse"
    elif [ -e /etc/mandriva-release ]; then
        # Mandriva Linux
        type="mandriva"
    elif [ -e /etc/vine-release ]; then
        # Vine Linux
        type="vine"type
    elif [ -e /etc/gentoo-release ]; then
        # Gentoo Linux
        type="gentoo"
    elif [ "$(uname)" == 'Darwin' ]; then 
        type="mac"
    else
        # Other
        echo "unkown distribution"
        type="unkown"
    fi

    echo ${type}
}

# Get distribution and bit
get_os_info() {
   echo $(get_os_type) $(get_os_bit)
}

get_os_info